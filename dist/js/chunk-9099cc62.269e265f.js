(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9099cc62"],{3987:function(e,t,i){"use strict";var s=i("ad56"),a=i.n(s);a.a},a7ad:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"publish-wrapper"},[i("div",{staticClass:"title"},[e._v(e._s(e.select.name[e.select.num])+":")]),i("div",{staticClass:"form"},[i("div",{staticClass:"img"},[i("div",{ref:"preview",staticClass:"preview",on:{click:e.deleteCanvas}}),e.form.imgFile[0]?e._e():i("div",{staticClass:"tips"},[e._v("注意：默认会截取图片中央为展示图片，上传后的图片再次点击删除")]),i("div",{staticClass:"form-src"},[i("span",{staticClass:"text"},[e._v("点击上传图片")]),i("input",{staticClass:"btn",attrs:{accept:"image/*",type:"file"},on:{change:function(t){return e.previewImg(t)}}})])]),i("label",{staticClass:"form-item",attrs:{for:"title"}},[i("span",[e._v("商品名称：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.title,expression:"form.title"}],staticClass:"text",attrs:{type:"text",id:"title"},domProps:{value:e.form.title},on:{input:function(t){t.target.composing||e.$set(e.form,"title",t.target.value)}}})]),i("label",{staticClass:"form-item",attrs:{for:"desc"}},[i("span",[e._v("商品描述：")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.desc,expression:"form.desc"}],staticClass:"textarea",attrs:{id:"desc"},domProps:{value:e.form.desc},on:{input:function(t){t.target.composing||e.$set(e.form,"desc",t.target.value)}}})]),i("label",{staticClass:"form-item",attrs:{for:"price"}},[i("span",[e._v("商品价格：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.price,expression:"form.price"}],staticClass:"text",attrs:{type:"number",id:"price"},domProps:{value:e.form.price},on:{input:function(t){t.target.composing||e.$set(e.form,"price",t.target.value)}}})]),i("label",{staticClass:"form-item",attrs:{for:"max_count"}},[i("span",[e._v("商品数量：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.max_count,expression:"form.max_count"}],staticClass:"text",attrs:{type:"number",id:"max_count"},domProps:{value:e.form.max_count},on:{input:function(t){t.target.composing||e.$set(e.form,"max_count",t.target.value)}}})]),i("button",{staticClass:"submit",on:{click:e.publish}},[e._v("发布商品")])])])},a=[],r={props:{select:{type:Object}},data:function(){return{form:{desc:"",price:"",max_count:"",imgFile:[],title:"",time:""}}},methods:{publish:function(){console.log(this.form)},deleteAll:function(){for(var e in this.form)this.form[e]="",this.form["imgFile"]=[];for(var t=0;t<this.$refs.preview.children.length;t++)this.$refs.preview.removeChild(this.$refs.preview.children[t])},deleteCanvas:function(){for(var e=this,t=function(t){e.$refs.preview.children[t].onclick=function(){e.$refs.preview.removeChild(e.$refs.preview.children[t]),e.form.imgFile.splice(t,1)}},i=0;i<this.$refs.preview.children.length;i++)t(i)},previewImg:function(e){var t=e.target.files[0],i=this;e&&window.FileReader||alert("您的设备不支持图片预览功能，如需该功能请升级您的设备！");var s=new FileReader;t&&s.readAsDataURL(t);var a=document.createElement("canvas"),r=this.$refs.preview,o=new Image,n=a.getContext("2d");s.onload=function(){o.src=this.result,o.onload=function(){a.width=300,a.height=300;var e=[o.width,o.height],t=e[0],s=e[1],l=0,c=0,m=0,f=0;t>=s?(c=0,f=s,l=(t-s)/2,m=l+s):(l=0,m=t,c=(s-t)/2,f=c+t);var p=[l,c,m,f].map(function(e){return Math.floor(e)});n.drawImage(o,p[0],p[1],p[2],p[3],0,0,300,300),r.appendChild(a),a.toBlob(function(e){i.form.imgFile.push(e)},"image/jpeg")}}}}},o=r,n=(i("3987"),i("2877")),l=Object(n["a"])(o,s,a,!1,null,"15133145",null);t["default"]=l.exports},ad56:function(e,t,i){}}]);
//# sourceMappingURL=chunk-9099cc62.269e265f.js.map