(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59816e4e"],{"59ad":function(t,e,n){},a2a3:function(t,e,n){"use strict";var s=n("59ad"),o=n.n(s);o.a},aefa:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"post"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],staticClass:"comment",domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}}),n("button",{staticClass:"submit",on:{click:t.submit}},[t._v("发表留言")])]),n("transition",{attrs:{name:"comment",mode:"out-in"}},[t.arrowFlag&&t.comment.length?n("div",{staticClass:"all"},t._l(t.comment,function(e,s){return n("div",{key:s,staticClass:"item"},[n("div",{staticClass:"origin"},[n("div",{staticClass:"person"},[t._v(t._s(e.person))]),n("div",{staticClass:"time"},[t._v(t._s(e.time))])]),n("div",{staticClass:"content"},[t._v(t._s(e.content))])])}),0):t._e()]),t.comment.length?n("div",{staticClass:"all-comment",on:{click:function(e){t.arrowFlag=!t.arrowFlag}}},[n("span",{staticClass:"text"},[t._v(t._s(t.arrowFlag?"收起留言":"展开留言"))]),n("i",{directives:[{name:"show",rawName:"v-show",value:!t.arrowFlag,expression:"!arrowFlag"}],staticClass:"material-icons"},[t._v("keyboard_arrow_down")]),n("i",{directives:[{name:"show",rawName:"v-show",value:t.arrowFlag,expression:"arrowFlag"}],staticClass:"material-icons"},[t._v("keyboard_arrow_up")])]):t._e()],1)},o=[],a={name:"Comment",props:{comment:{type:Array},id:{type:Object,default:function(){return{newsId:"",goodsId:""}}}},data:function(){return{arrowFlag:!1,content:""}},methods:{submit:function(){var t=this;if(!this.content)return this.$store.commit("tip",{reason:"内容不能为空",color:"red",update:new Date});this.id.goodsId?this.$http.post("/goods/comment",{goodsId:this.id.goodsId,person:this.$store.state.loginMessage.student_id,time:this.$now(),content:this.content}).then(function(e){t.$jwt(e.data)&&(t.comment.unshift({content:t.content,person:t.$store.state.loginMessage.student_id,time:t.$now()}),t.$store.commit("tip",{reason:e.data.reason,color:"green",update:new Date}),t.content="")}):this.$http.post("/news/comment",{newsId:this.id.newsId,person:this.$store.state.loginMessage.student_id,time:this.$now(),content:this.content}).then(function(e){t.$jwt(e.data)&&(t.comment.unshift({content:t.content,person:t.$store.state.loginMessage.student_id,time:t.$now()}),t.$store.commit("tip",{reason:e.data.reason,color:"green",update:new Date}),t.content="")})},init:function(){this.comment.reverse()}},mounted:function(){this.init()}},i=a,r=(n("a2a3"),n("2877")),c=Object(r["a"])(i,s,o,!1,null,"5ea8303f",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-59816e4e.ec3ee5d4.js.map